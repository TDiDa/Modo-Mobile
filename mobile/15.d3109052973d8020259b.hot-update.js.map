{"version":3,"sources":["webpack:///./site/mobile/src/template/Mobile/Demo.jsx"],"names":["Demo","nextProps","pathname","location","pageDataPath","replace","split","pageData","utils","get","data","locale","window","navigator","language","pageDataPromise","index","demosFetcher","params","component","Promise","all","localizedPageData","demos","goToPage","name","hash","update","forceUpdate","addEventListener","removeEventListener","props","picked","config","themeConfig","demoMeta","components","forEach","meta","i","filename","demoArr","demoContent","Object","keys","push","k","demoSort","sort","a","b","parseInt","order","hashArr","hashSpliter","indexDemos","concat","subListDemos","indexOf","filter","map","item","title","preview","React","ReactDOM","style","__html","isLocalMode","port","linkUrl","search","subtitle","Component"],"mappings":"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","file":"15.d3109052973d8020259b.hot-update.js","sourcesContent":["/* eslint react/no-danger: 0 */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport collect from 'bisheng/collect';\nimport { getQuery } from '../../../../utils';\n\n@collect(async nextProps => {\n  const { pathname } = nextProps.location;\n  const pageDataPath = pathname.replace('-cn', '').split('/');\n  const pageData = nextProps.utils.get(nextProps.data, pageDataPath);\n  if (!pageData) {\n    throw 404; // eslint-disable-line no-throw-literal\n  }\n\n  const locale = getQuery('lang') || window.navigator.language;\n  const pageDataPromise =\n    typeof pageData === 'function'\n      ? pageData()\n      : (pageData[locale] || pageData.index[locale] || pageData.index)();\n  const demosFetcher = nextProps.utils.get(nextProps.data, [\n    'components',\n    nextProps.params.component,\n    'demo',\n  ]);\n  if (demosFetcher) {\n    const [localizedPageData, demos] = await Promise.all([pageDataPromise, demosFetcher()]);\n    return { localizedPageData, demos, locale };\n  }\n\n  return { localizedPageData: await pageDataPromise, locale };\n})\nexport default class Demo extends React.Component {\n  componentDidMount() {\n    window.addEventListener('hashchange', this.update, false);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('hashChange', this.update, false);\n  }\n\n  goToPage = (name, index) => () => {\n    window.location.hash = `${name}-demo-${index}`;\n  };\n\n  update = () => {\n    this.forceUpdate();\n  };\n\n  render() {\n    const { demos, location, picked, themeConfig: config, locale, params } = this.props;\n    let demoMeta;\n    const name = params.component;\n    picked.components.forEach(i => {\n      const { meta } = i;\n      if (meta.filename.split('/')[1] === name) {\n        demoMeta = meta;\n      }\n    });\n    const demoArr = [];\n    let demoContent;\n    Object.keys(demos).forEach(k => {\n      demoArr.push(demos[k]);\n    });\n    let demoSort = demoArr.sort((a, b) => parseInt(a.meta.order, 10) - parseInt(b.meta.order, 10));\n\n    const hashArr = location.hash.split(config.hashSpliter);\n    const order = hashArr[1] && parseInt(hashArr[1], 10);\n    if (location.hash && config.indexDemos.concat(config.subListDemos).indexOf(name) > -1) {\n      // 处理 config.indexDemos 里的组件 demo ，使其能只展示一个\n      demoSort = demoSort.filter(i => parseInt(i.meta.order, 10) === order);\n    }\n\n    if (!location.hash && config.subListDemos.indexOf(name) > -1) {\n      // 处理 config.subListDemos 的 demo，使其展示一个二级菜单\n      demoContent = demoSort.map((item, index) => (\n        <div key={`sub${index}`}>\n          <div>\n            <button type=\"button\" onClick={this.goToPage(name, index)}>\n              {item.meta.title[locale === 'en-US' ? 'en-US' : 'zh-CN']}\n            </button>\n          </div>\n        </div>\n      ));\n    } else {\n      demoContent = demoSort.map((i, index) => (\n        <div className=\"demo-preview-item\" id={`${name}-demo-${i.meta.order}`} key={index}>\n          <div className=\"demoTitle\">{i.meta.title[locale]}</div>\n          <div className=\"demoContainer\">{i.preview(React, ReactDOM)}</div>\n          {i.style ? <style dangerouslySetInnerHTML={{ __html: i.style }} /> : null}\n        </div>\n      ));\n    }\n\n    const isLocalMode = window.location.port;\n    const linkUrl = isLocalMode ? '/' : '/modo-mobile/mobile/';\n\n    return (\n      <div id={name} className=\"demo\">\n        <div className=\"demoName\">\n          <a className=\"icon\" href={`${linkUrl}${window.location.search}`} />\n          {demoMeta.title}\n          {!demoMeta.subtitle || locale === 'en-US' ? null : (\n            <span className=\"ch\">{demoMeta.subtitle}</span>\n          )}\n        </div>\n        <div className=\"demoName\">{demoContent}</div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./site/mobile/src/template/Mobile/Demo.jsx"],"sourceRoot":""}